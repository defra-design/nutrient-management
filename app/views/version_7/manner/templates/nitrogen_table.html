{% macro application_headers() %}
<tr class="govuk-table__row">
    <th scope="col" class="govuk-table__header">
    {% if data.manner_application_three == true %}
        <th scope="col" class="govuk-table__header">Application 1</th>
        <th scope="col" class="govuk-table__header">Application 2</th>
        <th scope="col" class="govuk-table__header">Application 3</th>
    {% elif data.manner_application_two == true  %}
        <th scope="col" class="govuk-table__header">Application 1</th>
        <th scope="col" class="govuk-table__header">Application 2</th>
    {% else %}
    {% endif %}
    <th scope="col" class="govuk-table__header">Total</th>
</tr>
{% endmacro %}

{% macro application_values(value_1, value_2, value_3, measurement, total) %}
    {% if total == null%}
        {% set total = value_1 + value_2 + value_3 %}
    {% endif %}
    {% if data.manner_application_three == true %}
        <td class="govuk-table__cell">{{value_1}}{{measurement}}</td>
        <td class="govuk-table__cell">{{value_2}}{{measurement}}</td>
        <td class="govuk-table__cell">{{value_3}}{{measurement}}</td>
    {% elif data.manner_application_two == true  %}
        <td class="govuk-table__cell">{{value_1}}{{measurement}}</td>
        <td class="govuk-table__cell">{{value_2}}{{measurement}}</td>
    {% endif %}
        <td class="govuk-table__cell">{{total}}{{measurement}}</td>
{% endmacro %}


<div class="margin-bottom-forty">
    <h2 class="govuk-heading-m">Nitrogen</h2>
    <table class="govuk-table manner_table">
        <thead class="govuk-table__head">
        {{ application_headers() }}        
        </thead>            
        <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">Total nitrogen (N)</th>
                 {{ application_values(125, 125, 125, ' kg per hectare' ) }}
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">Mineralised nitrogen (N)</th>
                 {{ application_values(1, 1, 1, ' kg per hectare' ) }}
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">Nitrogen efficiency</th>
                 {{ application_values(29, 29, 29, '%', 29 ) }}
            </tr>
        </tbody>
    </table>
</div>

<div class="margin-bottom-forty">
    <h2 class="govuk-heading-m">Nitrogen losses</h2>
    <table class="govuk-table manner_table">
        <thead class="govuk-table__head">
        {{ application_headers() }}        
        </thead>            
        <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">Nitrate-N</th>
                 {{ application_values(2, 2, 2, ' kg per hectare' ) }}
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">Ammonia-N</th>
                 {{ application_values(22, 22, 22, ' kg per hectare' ) }}
            </tr>
            <tr class="govuk-table__row"></tr>
                <th scope="row" class="govuk-table__header">Denitrified-N</th>
                 {{ application_values(1, 1, 1, ' kg per hectare' ) }}
            </tr>
        </tbody>
    </table>
</div>

<div class="margin-bottom-forty">
    <h2 class="govuk-heading-m">Crop available nitrogen (N)</h2>
    <table class="govuk-table manner_table">
        <thead class="govuk-table__head">
        {{ application_headers() }}        
        </thead>            
        <tbody class="govuk-table__body">    
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">Current grass crop</th>
                 {{ application_values(8, 8, 8, ' kg per hectare' ) }}
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">Next grass crop - current year</th>
                 {{ application_values(6, 6, 6, ' kg per hectare' ) }}
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">Following crop - year 2</th>
                 {{ application_values(3, 3, 3, ' kg per hectare' ) }}
            </tr>
        </tbody>
    </table>
</div>

<h2 class="govuk-heading-m">Phosphate, Potash, Sulphur and Magnesium</h2>
<table class="govuk-table manner_table">
  <thead class="govuk-table__head">
    {{ application_headers() }}        
  </thead>
  <tbody class="govuk-table__body">
    <tr class="govuk-table__row"></tr>
      <th scope="row" class="govuk-table__header">Total P2O5</th>
        {{ application_values(115, 115, 115, ' kg per hectare' ) }}
    </tr>
    <tr class="govuk-table__row">
      <th scope="row" class="govuk-table__header">Crop available P2O5</th>
        {{ application_values(57, 57, 57, ' kg per hectare' ) }}
    </tr>
    <tr class="govuk-table__row">
      <th scope="row" class="govuk-table__header">Total K2O</th>
        {{ application_values(55, 55, 55, ' kg per hectare' ) }}
    </tr>
    <tr class="govuk-table__row">
      <th scope="row" class="govuk-table__header">Crop available K2O</th>
        {{ application_values(50, 50, 50, ' kg per hectare' ) }}
    </tr>
    <tr class="govuk-table__row">
      <th scope="row" class="govuk-table__header">Total SO5</th>
        {{ application_values(0, 0, 0, '' ) }}
    </tr>
    <tr class="govuk-table__row">
      <th scope="row" class="govuk-table__header">Total MgO</th>
        {{ application_values(0, 0, 0, '' ) }}
    </tr>
  </tbody>
</table>

